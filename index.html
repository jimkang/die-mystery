<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>TITLE (Taper #6)</title>

<!-- “TITLE” Copyright (C) 2021 AUTHOR

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved. This file is offered as-is,
without any warranty.

This is from Taper #6: A Throw of the Dice, Spring 2021:

https://taper.badquart.to/6/title_of_your_work.html

... [Place your creative statement here] ...

-->

	<style>
	body { margin:0 ; overflow:hidden }
	a { color:#eee ; text-decoration:none }
	header { margin:0 ; padding:0 ; background-color:#444 ; color:#bbb ;
		position:relative ; z-index:1000 }
	header > h1 { margin:0 ; font-size:12px ; font-family:sans-serif ;
		border-bottom:1px #999 solid ; padding:5px 10px ; line-height:17px }
</style>
</head>
<body>
<header id=nav>
	<h1>
		<a href="index.html">Taper #6 :
		A Throw of the Dice</a> : Spring 2021 <br>
		<a href="template.html">“TITLE”</a> by
		<a href="about.html#AUTHOR">AUTHOR</a> :
		<a href="prev.html">&lt;&lt;</a> &mdash;
		<a href="next.html">&gt;&gt;</a>
	</h1>
</header> <!-- The poem that follows, up to </body>, is at most 2kb -->

<svg width="90vmin" height="90vmin" viewBox="0 0 100 100">
  <g id="d"/>
  <g id="c"/>
  <g id="b"/>
  <g id="a"/>
</svg>

<script>
const outerR = 41 + r(10);
var ctr = [50, 50];
const tp = 2 * Math.PI;
var dotAs = [
  -tp/32+r(100)/100*tp/16,
  .3*tp+r(100)/100*tp/16,
  .64*tp+r(100)/100*tp/16
];
var opAs = dotAs.map(a => a + Math.PI);
var cps = dotAs.concat(opAs).map(a => cPt(ctr, outerR, a));
console.log(cps);
function r(m) {
  return ~~(Math.random() * m);
}
function s(sel) {
  return document.querySelector(sel);
}
function set(e, h) {
  e.innerHTML = h;
}
function add(e, h) {
  e.innerHTML = e.innerHTML + h;
}
function cPt(c, r, a) {
  return [c[0]+r*Math.cos(a), c[1]+r*Math.sin(a)];
}
function cSVG(r, c, fill = '#444', stroke = 'none') {
   return `<circle r="${r}" cx="${c[0]}" cy="${c[1]}" fill="${fill}" stroke="${stroke}"/>`;
}
function lSVG(s, e, stroke='#444') {
  return `<line x1="${s[0]}" y1="${s[1]}" x2="${e[0]}" y2="${e[1]}"/>`;
}

var steps = [
  { l: 0, f: (d) => { set(s('#a'), cSVG(1, ctr)); } },
  { l: 0, f: (d) => { set(s('#b'), cSVG(outerR, ctr, 'none', '#444')); } },
  { l: 0.3, f() { set(s('#c'), cSVG(1, cps[0])); } },
  { l: 0.3, f() { add(s('#c'), cSVG(1, cps[1])); } },
  { l: 0.3, f() { add(s('#c'), cSVG(1, cps[2])); } },
  //{ l: 2, f() { set(s('#d'), cSVG(1, cps[2])); } },
];

function run(step, i) {
  var next = steps[i + 1];
  var runN = () => console.log('All done.');
  if (next) {
    runN = () => run(next, i + 1);
  }

  if (isNaN(step.l)) {
    step.f(runN);
  } else {
    step.f();
    setTimeout(runN, step.l * 1000);
  }
}

run(steps[0], 0);
</script>

</body>
</html>
